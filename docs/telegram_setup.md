# Telegram Channel Posts Fetching Setup

> Бот обеспечивает только операции с каналами и дайджестами; задачи и напоминания больше не поддерживаются.

## Описание

Для получения реальных постов с Telegram каналов существует два способа:

### 1. Pyrogram (MTProto) - Рекомендуется ✅

**Требуется:**
- Пользовательский аккаунт Telegram (не бот)
- API credentials с https://my.telegram.org

**Преимущества:**
- Работает с любыми публичными каналами
- Не требует прав администратора
- Может получить историю сообщений

## Настройка

1. Получите API credentials:
   - Зайдите на https://my.telegram.org
   - Войдите с вашим номером телефона
   - Создайте приложение и получите `api_id` и `api_hash`
   - При создании приложения можете указать:
     - **App title**: `Channel Reader` или `AI Challenge Digest`
     - **Short name**: `channel_reader`
     - **URL**: можно оставить пустым или указать `https://github.com`
     - **Platform**: `Desktop` или `Other`
     - **Description**: можно оставить пустым

2. Добавьте credentials в `.env`:
   ```bash
   TELEGRAM_API_ID=your_api_id
   TELEGRAM_API_HASH=your_api_hash
   ```

3. Установите Pyrogram:
   ```bash
   pip install pyrogram
   ```

4. Инициализируйте сессию (один раз):
   ```bash
   python scripts/init_pyrogram.py
   ```
   
   При первом запуске вас попросят:
   - Ввести номер телефона (с кодом страны, например +79991234567)
   - Ввести код подтверждения из Telegram
   - Ввести пароль, если у вас включена двухфакторная аутентификация
   
   Сессия сохранится в файл `telegram_channel_reader.session` и больше не потребует ввода.

5. Готово! Теперь система будет автоматически использовать Pyrogram для получения реальных постов.

### 2. Bot API (aiogram) - Ограничено ❌

**Требуется:**
- Бот должен быть администратором канала

**Ограничения:**
- Bot API не предоставляет доступ к истории сообщений канала
- Даже если бот админ, нет прямого метода для получения истории

## Использование

Код автоматически пробует:
1. Pyrogram (если доступен и настроен)
2. Bot API (если бот админ, но все равно может не работать)
3. Placeholder посты (для тестирования)

## Пример настройки

```bash
# В .env файле
TELEGRAM_API_ID=12345678
TELEGRAM_API_HASH=abcdef1234567890abcdef1234567890
TELEGRAM_BOT_TOKEN=your_bot_token  # Опционально, для бота
```

## Примечания

- Pyrogram требует интерактивного входа при первом запуске
- После первого входа сессия сохраняется в файле `telegram_channel_reader.session`
- Убедитесь, что аккаунт подписан на нужные каналы

